<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<link rel="import" href="../unit-doll/unit-doll.html">
<link rel="import" href="../text-string/text-string.html">
<link rel="import" href="../tab-group/tab-group.html">
<link rel="import" href="../unit-browse/unit-browse.html">
<link rel="import" href="../unit-saved/unit-saved.html">

<polymer-element name="x-app" vertical layout flex>
	<template>
		<style>
			:host {
				background:#eee;
			}

			.panel {
				margin:5px;
				border:1px solid #ccc;
				background-color: #eee;
			}

			core-toolbar {
				height:50px;
				background-color: navy;
				color:#fff;
				padding: 0 10px;
			}

			paper-tabs {
				background-color: #fff;
			}

			paper-tabs::shadow #selectionBar {
				background-color: red;
			}

			paper-tab::shadow #ink {
				color: red;
			}
		</style>

		<!--<core-toolbar class="core-narrow">
			Wardrobe
		</core-toolbar>-->

		<div horizontal layout flex>
			<div class="panel" vertical layout flex>

				<paper-tabs selected="{{navModeId}}">
					<paper-tab x-unit="browse" on-tap="{{navSelectTab}}"><text-string class="tab">navigation.tabs.browser</text-string></paper-tab>
					<paper-tab x-unit="saved" on-tap="{{navSelectTab}}"><text-string class="tab">navigation.tabs.saved</text-string></paper-tab>
				</paper-tabs>

					<div hidden?="{{navMode != 'browse'}}" class="tabbed-content" vertical layout flex>
						<unit-browse></unit-browse>
					</div>
					<div hidden?="{{navMode != 'saved'}}" class="tabbed-content" vertical layout flex>
						<unit-saved></unit-saved>
					</div>

			</div>

			<div class="panel" vertical layout>
				<unit-doll>

					<div class="layer" style="top:50%; left:50%;"></div>
					<div class="layer" style="top:10%; left:10%;"></div>
					<div class="layer" style="top:10%; left:40%;"></div>
					<div class="layer" style="top:50%; left:80%;"></div>

				</unit-doll>
			</div>

			<div class="panel" vertical layout flex></div>
		</div>

	</template>

	<script>
		Polymer({

			navModeId:0,

			created:function(){
				this.navModes = ['browse', 'saved'];
				this.navMode = this.navModes[this.navModeId];
			},

			navSelectTab:function(event, detail, sender){
				this.navMode = $(sender).attr('x-unit');
				this.navModeId = this.navModes.indexOf(this.navMode);
			}

		});
	</script>
</polymer-element>